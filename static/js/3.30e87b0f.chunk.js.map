{"version":3,"sources":["components/ListingPage/index.jsx"],"names":["ListingPage","dispatch","useDispatch","page","useSelector","state","data","contentItems","pageNumber","value","useEffect","fetchDataByPage","window","addEventListener","handleScroll","removeEventListener","length","Math","ceil","innerHeight","document","documentElement","scrollTop","offsetHeight","incrementByAmount","className","map","item","src","name"],"mappings":"wHAAA,iDAgDeA,UAzCG,WAGd,IAAMC,EAAWC,cAEXC,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKH,QACzCI,EAAeH,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKC,gBAEjDC,EAAYJ,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKG,SACpDC,qBAAU,WACRT,EAASU,YAAgBH,MACxB,IAEHE,qBAAU,WAGN,OADAE,OAAOC,iBAAiB,SAAUC,GAC3B,kBAAMF,OAAOG,oBAAoB,SAAUD,MAEjD,IACHJ,qBAAU,WAENP,GAAOI,EAAaS,OAAOb,EAAK,wBAAwBF,EAASU,YAAgBH,MACnF,CAACA,IAGL,IAAMM,EAAa,WACXG,KAAKC,KAAKN,OAAOO,YAAcC,SAASC,gBAAgBC,YAAcF,SAASC,gBAAgBE,cAErGtB,EAASuB,gBAIX,OACI,8BACI,qBAAKC,UAAU,oBAAf,SACCtB,GAAMI,EAAamB,KAAI,SAACC,GAAD,OAAQ,gCAAK,qBAAKC,IAAG,iBAAYD,EAAK,iBAAmBF,UAAU,eAAc,mBAAGA,UAAU,aAAb,SAA2BE,EAAKE","file":"static/js/3.30e87b0f.chunk.js","sourcesContent":["import React, { useEffect} from \"react\";\r\n\r\nimport \"./index.css\"\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchDataByPage, incrementByAmount } from \"../../redux/dataSlice\";\r\n\r\nconst ListingPage=()=>{\r\n  \r\n   \r\n    const dispatch = useDispatch()\r\n  \r\n    const page = useSelector((state) => state.data.page)\r\n    const contentItems = useSelector((state) => state.data.contentItems)\r\n   \r\n    const pageNumber= useSelector((state) => state.data.value)\r\n    useEffect(() => {\r\n      dispatch(fetchDataByPage(pageNumber))\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n     \r\n        window.addEventListener('scroll', handleScroll);\r\n        return () => window.removeEventListener('scroll', handleScroll);\r\n      \r\n      }, []);\r\n      useEffect(()=>{\r\n\r\n       if(page&& contentItems.length<page['total-content-items']) dispatch(fetchDataByPage(pageNumber))\r\n      },[pageNumber])\r\n    \r\n    \r\n    const handleScroll=()=> {\r\n        if (Math.ceil(window.innerHeight + document.documentElement.scrollTop) == document.documentElement.offsetHeight) {\r\n        \r\n      dispatch(incrementByAmount())\r\n     }\r\n      }\r\n     \r\n    return(\r\n        <div>\r\n            <div className=\"listing-container\">\r\n            {page&&contentItems.map((item)=><div><img src={`Slices/${item[\"poster-image\"]}`} className=\"list-image\"/><p className=\"list-title\">{item.name}</p></div>)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListingPage;"],"sourceRoot":""}